# Docker

## Программы и утилиты
- [Kitematic](https://kitematic.com/) - на Windows устанавливается через Докер-Десктоп

## Дополнительные материалы
- https://guides.hexlet.io/docker/
- https://habr.com/ru/post/310460/
- https://docs.docker.com/docker-for-windows/

## Термины и определения:
- **Докер** — универсальный способ доставки приложений на машины (локальный компьютер или удаленные сервера) и их запуск в изолированном окружении.
- **Images (Образы)** - Схемы нашего приложения, которые являются основой контейнеров. Команда `docker pull` скачивает образы. Самостоятельная файловая система.
- **Containers (Контейнеры)** - Создаются на основе *Образа* и запускают само приложение. Мы создали контейнер командой `docker run`, используя образ busybox, скачанный ранее. Запущенный процесс операционной системы в изолированном окружении с подключенной файловой системой из образа. Докер стартует процесс в изолированном окружении. Контейнер видит свой собственный список процессов, свою собственную сеть, свою собственную файловую систему и так далее.
- **Docker Hub** - Регистр=Архив Докер-образов. Если нужно, то можно содержать собственный регистр и использовать его для получения образов
- **Docker Daemon (демон Докера)** - Фоновый сервис, запущенный на хост-машине, который отвечает за создание, запуск и уничтожение Докер-*Контейнеров*. Демон — это процесс, который запущен на операционной системе, с которой взаимодействует клиент.
- **Docker Client (клиент Докера)** - Утилита командной строки, которая позволяет пользователю взаимодействовать с демоном. Существуют другие формы клиента, например, Kitematic, с графическим интерфейсом.

## Полезные команды:

```
docker --version
docker info
docker pull hello-world // скачивает образ из Хаба Докера и сохраняет локально
docker images // список Образов в системе

docker run --help // получение справки по команде

docker run hello-world // запуск Контейнера
docker run -it busybox sh // подключает интерактивный tty в контейнер
docker ps // список запущенных Контейнеров
docker ps -a // список контейнеров, которые мы запускали

docker rm %ID // удаление контейнера по ID ! но сначала, он должен быть остановлен
docker rm $(docker ps -a -q -f status=exited) // удалить много контейнеров
	// все контейнеры, у которых статус exited
	// флаг -q возвращает только численные ID
	// флаг -f фильтрует вывод на основе предоставленных условий
docker container prune // та же самая команда	
docker rmi // удаление ненужных образов
docker run --rm hello-world // контейнер будет автоматически удаляться при завершении

```

Работаем со статическим сайтом:
```
docker run prakhar1989/static-site // запускает контейнер, но порты все закрыты!
docker run -d -P --name static-site prakhar1989/static-site
	// флаг -d открепит (detach) терминал, detached mode
	// флаг -P сделает все открытые порты публичными и случайными
	// флаг --name это имя, которое мы хотим дать контейнеру
docker port [CONTAINER] // какие порты открыты?

```
